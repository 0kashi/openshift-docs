// Module included in the following assemblies:
//
// * authentication/identity_providers/configuring-keystone-identity-provider.adoc

[id='identity-provider-keystone-CRD-{context}']
= Sample Keystone CRD

The following Custom Resource Definition (CRD) shows the parameters and acceptable values for a
Keystone identity provider.

.Keystone CRD

[source,yaml]
----
oauthConfig:
  ...
  identityProviders:
  - name: my_keystone_provider <1>
    challenge: true <2>
    login: true <3>
    mappingMethod: claim <4>
    provider:
      apiVersion: v1
      kind: KeystonePasswordIdentityProvider
      domainName: default <5>
      url: http://keystone.example.com:5000 <6>
      ca: ca.pem <7>
      certFile: keystone.pem <8>
      keyFile: keystonekey.pem <9>
      useKeystoneIdentity: false <10>
----
<1> This provider name is prefixed to provider user names to form an identity name.
<2> When `true`, unauthenticated token requests from non-web clients (like the
CLI) are sent a `WWW-Authenticate` challenge header for this provider.
<3> When `true`, unauthenticated token requests from web clients (like the web
console) are redirected to a login page backed by this provider.
<4> Controls how mappings are established between this provider's identities and user objects.
<5> Keystone domain name. In Keystone, usernames are domain-specific. Only a single domain is supported.
<6> The URL to use to connect to the Keystone server (required).
<7> Optional: Certificate bundle to use to validate server certificates for the configured URL.
<8> Optional: Client certificate to present when making requests to the configured URL.
<9> Key for the client certificate. Required if `certFile` is specified.
<10> When `true`, indicates that user is authenticated by Keystone ID, not by
Keystone user name. Set to `false` to authenticate by user name.
