// Module included in the following assemblies:
//
// * logging/efk-logging-image.adoc

[id='efk-logging-configuring-image_{context}']
= Changing the cluster logging component image

The image for each subcomponent are overwriteable by modifying the appropriate environment variable in the 
Cluster Logging Operator Deployment Configuration. 

[NOTE]
====
If you change the *ELASTICSEARCH_IMAGE*, {product-title} performs a rolling restart of your Elasticsearch cluster.
==== 

.Procedure

To change an image for a component: 

. Use the `oc set env dc` command:
+
[source,bash]
----
oc set env deployment/cluster-logging-operator <IMAGE-NAME>=<image>
----
+
For example:
+
----
oc set env deploy/cluster-logging-operator ELASTICSEARCH_IMAGE=quay.io/openshift/origin-logging-elasticsearch5:latest 
----

. After {product-title} redeploys the pods, you can use `oc get pod` to see that the image changed:
+
For example:
+
[source,bash]
----
oc get pod kibana-797c89966d-qp5md -o yaml |grep image
    image: docker.io/openshift/origin-logging-kibana5:v4.0
    imagePullPolicy: IfNotPresent
    image: docker.io/openshift/oauth-proxy:v1.1.0
    imagePullPolicy: IfNotPresent
  imagePullSecrets:
    image: docker.io/openshift/origin-logging-kibana5:v4.0
    imageID: docker.io/openshift/origin-logging-kibana5@sha256:ed2191f4ca31949a330b9568bf45d54ec016e08b95464932e27bc87e0e1a4312
    image: docker.io/openshift/oauth-proxy:v1.1.0
    imageID: docker.io/openshift/oauth-proxy@sha256:731c1fdad1de4bf68ae9eece5e99519f063fd8d9990da312082b4c995c4e4e33
----
 
