// Module included in the following assemblies:
//
// * nodes/nodes-scheduler-descheduler.adoc

[id='nodes-scheduler-descheduling-about_{context}']
= Understanding how to evict pods with the descheduler

Because {product-title} clusters are highly dynamic and their state changes over time 
your cluster can benefit from installing and using the Descheduler Operator to manage the descheduler which can evict from one node and rescheduling onto a more appropriate node for various reasons:

* Nodes are under- or over-utilized.
* Pod and node affinity requirements, such as taints or labels, have changed and the original scheduling decisions are no longer appropriate for certain nodes.
* Node failure requires pods to be moved.
* New nodes are added to clusters.

The descheduler does not schedule replacement of evicted pods. The scheduler automatically performs this task for the evicted pods.

It is important to note that there are a number of core components, such as Heapster and DNS, that are critical to a fully functional cluster,
but, run on a regular cluster node rather than the master. A cluster may stop working properly if the component is evicted. To prevent the
descheduler from removing these pods, configure the pod as a critical pod by adding a priority class to the pod specification.

The descheduler does not evict the following types of pods:

* Critical pods (with an appropriate priority class).
* Pods (link:https://kubernetes.io/docs/tasks/administer-cluster/static-pod/[static and mirror pods] or pods in standalone mode) not associated with a ReplicaSet, Replication Controller, Deployment, or Job (because these pods are not recreated).
* Pods associated with DaemonSets.
* Pods with local storage.
* Pods subject to Pod Disruption Budget (PDB) are not evicted if descheduling violates the PDB. The pods can be evicted using
an eviction policy.

[NOTE]
====
Best efforts pods are evicted before Burstable and Guaranteed pods.
====

The following is a high-level process to configure and run the descheduler:

* Create a role with the needed permissions. 

* Define the descheduling behavior in a policy file. 

* Install the descheduler through the web console.

* Edit the descheduler custom resource to specify the descheduler policy to use.

