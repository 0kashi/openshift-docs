// Module included in the following assemblies:
//
// * nodes/nodes-scheduler-descheduler.adoc

[id="nodes-scheduler-descheduler-m-{context}"]
= Modifying the Descheduler policy

You can change the descheduler policy by editing the descheduler custom resource (CR).

.Prerequisite

* The Descheduler Operator must be installed.

* Have the name of the descheduler CR:
+
----
$ oc get descheduler

NAME          AGE
descheduler   6m6s
----

.Procedure

To modify the descheduler policy:

. Open the descheduler CR for editing.
+
----
$ oc edit Descheduler <cr-name> -n openshift-operators
----
+
For example:
+
----
$ oc edit Descheduler descheduler -n openshift-operators
----

. Change the parameters and values as needed: 
+
.Sample `lownodeutilizaton` policy
[source,yaml]
----
spec:
  strategies:
    - name: lownodeutilization <1>
      params:
       - name: cputhreshold <2>
         value: 10
       - name: memorythreshold
         value: 20
       - name: podsthreshold
         value: 30
       - name: memorytargetthreshold <3>
         value: 40
       - name: cputargetthreshold
         value: 50
       - name: podstargetthreshold
         value: 60
       - name: nodes
         value: 3  <4>
  - name: duplicates <1>
  - name: interpodantiaffinity <1>
  - name: removepodsviolatingnodeaffinity <1>
----
+
<1> Specify the strategy as described in *Understanding descheduler policies*.
+
* `lownodeutilization`
* `duplicates`
* `removepodsviolatingnodeaffinity`
* `interpodantiaffinity`
<2> For the `lownodeutilization` policy, optionally, set the low-end thresholds for the `LowNodeUtilization` strategy. If the node is below all three values, the descheduler considers the node underutilized.
<3> For the `lownodeutilization` policy, optionally, set the high-end thresholds for the `LowNodeUtilization` strategy. If the node is below these values and above the `threshold` values, the descheduler considers the node properly utilized.
<4> For the `lownodeutilization` policy, optionally, set the number of nodes that can be underutilized before the descheduler will evict pods from underutilized nodes.
