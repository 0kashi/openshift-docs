// Module included in the following assemblies:
//
// * nodes/nodes-scheduler-taints-tolerations.adoc

[id='nodes-scheduler-taints-tolerations-seconds_{context}']
= Setting a default value for toleration seconds in {product-title}

When using taints and tolerations, if taints are added to an existing node, non-matching pods on that node will be evicted. You can modify the time allowed before pods are evicted using the toleration seconds plug-in, which sets the eviction period at five minutes, by default.

.Procedure

To enable Default Toleration Seconds:

. Modify the master configuration file (*_/etc/origin/master/master-config.yaml_*) to Add `DefaultTolerationSeconds` to the admissionConfig section:
+
[source, yaml]
----
admissionConfig:
  pluginConfig:
    DefaultTolerationSeconds:
      configuration:
        kind: DefaultAdmissionConfig
        apiVersion: v1
        disable: false
----

. Restart OpenShift for the changes to take effect:
+
[source, bash]
----
# master-restart api
# master-restart controllers
----

. Verify that the default was added:
+
.. Create a pod:
+[source, bash]
----
$ oc create -f </path/to/file>
----
+
For example:
+[source, bash]
----
$ oc create -f hello-pod.yaml
pod "hello-pod" created
----
+
.. Check the pod tolerations:
+[source, bash]
----
$ oc describe pod <pod-name> |grep -i toleration
----
+
For example:
+[source, bash]
----
$ oc describe pod hello-pod |grep -i toleration
Tolerations:    node.kubernetes.io/not-ready=:Exists:NoExecute for 300s
----

