// Module included in the following assemblies:
//
// * nodes/nodes-pods-secrets.adoc

[id='nodes-pods-secrets-creating-docker_{context}']
= Creating a secret for a Docker configuration file 

As an administrator, you can create a secret object that calls a Docker configuration JSON files.

.Procedure

To create a secret for a Docker configuration JSON file:

. Create a secret object in a YAML file on master.
+
For example:
+
[source,yaml]
----
apiVersion: v1
kind: Secret
metadata:
  name: aregistrykey
  namespace: myapps
type: kubernetes.io/dockerconfigjson <1>
data:
  .dockerconfigjson:bm5ubm5ubm5ubm5ubm5ubm5ubm5ubmdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2cgYXV0aCBrZXlzCg== <2>
----
<1> Specifies that the secret is using a Docker configuration JSON file.
<2> The output of a base64-encoded the Docker configuration JSON file

. Use the following command to create the secret from your local *_.docker/config.json_* file:
+
[source,bash]
----
$ oc create secret generic dockerhub \
    --from-file=.dockerconfigjson=<path/to/.docker/config.json> \
    --type=kubernetes.io/dockerconfigjson
----
+
This command generates a JSON specification of the secret named `dockerhub` and
creates the object.

Then:

. Update the service account for the pod where you want to use the secret to allow the reference to the secret.

. Create the pod, which consumes the secret as an environment variable or as a file using a `secret` volume.
