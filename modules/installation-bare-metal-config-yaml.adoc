// Module included in the following assemblies:
//
// * installing/installing_bare_metal/installing-bare-metal.adoc

[id="installation-bare-metal-config-yaml_{context}"]
= Sample `install-config.yaml` file for bare metal

You can customize the `install-config.yaml` file to specify more details about
your {product-title} cluster's platform or modify the values of the required
parameters.

[source,yaml]
----
apiVersion: v1
baseDomain: example.com <1>
compute:
- name: worker <2>
  replicas: 0 <3>
controlPlane:
  name: master <2>
  replicas: 3 <4>
metadata:
  name: test <5>
networking:
  clusterNetworks:
  - cidr: 10.128.0.0/14 <6>
    hostPrefix: 23 <7>
  networkType: OpenShiftSDN
  serviceNetwork: <8>
  - 172.30.0.0/16
platform:
  none: {}
pullSecret: '{"auths": ...}' <9>
sshKey: 'ssh-ed25519 AAAA...' <10>
----
<1> The base domain of the cluster. All DNS records must be sub-domains of this
base and include the cluster name.
<2> The `controlPlane` section is a singlet, and the `compute` section is an
array. Because the sections have different definitions, the first line of the
`compute` section must begin with a hyphen, `-`, and the first line of the
`controlPlane` section must not. Although both sections currently define a
single machine pool, it is possible that future versions of {product-title}
will support defining multiple compute pools during installation. Only one
control plane pool is used.
<3> You must set the number of workers to `0` in this file. Remember that you
must manually deploy at least one compute, or worker, machine in the cluster.
<4> The number of control plane machines that you add to the cluster. Because
the cluster uses this values as the number of etcd endpoints in the cluster, the
value must match the number of control plane machines that you deploy.
<5> The cluster name.
<6> A block of IP addresses from which pod IPs are allocated.
<7> The subnet prefix length to assign to each individual node. For example, if
`hostPrefix` is set to `23`, then each node is assigned a `/23` subnet out of
the given `cidr`, which allows for 510 (2^(32 - 23) - 2) pod IPs addresses.
<8> The IP address pool to use for service IP addresses. You can enter only
one IP address pool.
<9> The pull secret that provides components in the cluster access to images for
{product-title} components.
<10> The default SSH key for the `core` user.
