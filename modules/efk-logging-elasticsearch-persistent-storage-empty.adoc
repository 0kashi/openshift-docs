// Module included in the following assemblies:
//
// * logging/efk-logging-elasticsearch-storage.adoc

[id="efk-logging-elasticsearch-persistent-storage-empty-{context}"]
= Configuring Elasticsearch for emptyDir storage

You can use emptyDir with Elasticsearch, which uses ephemeral storage for each pod.

[NOTE]
====
When using emptyDir, you will lose data if Elasticsearch is restarted or redeployed.
====

.Prerequisite

* Cluster logging and Elasticsearch must be installed.

* Set cluster logging to the unmanaged state.

* If needed, get the name of the Cluster Logging Custom Resource from the `openshift-logging` project:
+
----
$ oc get ClusterLogging
NAME       AGE
instance   112m
----

.Procedure

. Edit the  Cluster Logging CR to specify emptyDir:
+
[source,yaml]
----
 spec:
    logStore:
      type: "elasticsearch"
      elasticsearch:
        nodeCount: 3 
        storage: {}
----


