// Module included in the following assemblies:
//
// scalability_and_performance/scaling-cluster-monitoring-operator.adoc

[id='scaling-the-prometheus-components']
= Scaling the Prometheus components

Scale up or down the number of {product-title} Prometheus pods replicas.

.Prerequisites

* Based on your scale destination, compute and set the relevant persistent volume
(PV) size for the Prometheus data store. Because the default for Prometheus pod
replicas is 2, for 100 nodes with 3600 pods you need 188 GB, as in this example:
+
----
94 GB (space per 15 days ) * 2 (pods) = 188 GB free
----
+
Based on this equation, set
`openshift_cluster_monitoring_operator_prometheus_storage_capacity=94Gi`.

*Scaling up*

.Procedure

. Run:
+
----
# oc scale -n openshift-monitoring --replicas=3 statefulset prometheus-k8s
----

[NOTE]
====
* The default replicas are 2 Prometheus pods.
* If you add a new node to or remove an existing node from a Prometheus cluster,
the data stored in the cluster rebalances across the cluster.
====

*Scaling down*

.Procedure

. Run:
+
----
# oc scale -n openshift-monitoring --replicas=0 statefulset prometheus-k8s
----
