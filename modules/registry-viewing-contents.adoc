// Module included in the following assemblies:
//
// * assembly/registry

[id='registry-viewing-contents-{context}']
= Viewing the registry's contents

Tag and image metadata is stored in {product-title}, but the registry stores
layer and signature data in a volume that is mounted into the registry container
at *_/registry_*. As `oc exec` does not work on privileged containers, to view a
registry's contents you must manually SSH into the node housing the registry
pod's container, then run `podman exec` on the container itself.

.Procedure

. List the current pods to find the pod name of your container image registry:
+
----
# oc get pods
----
+
Then, use `oc describe` to find the host name for the node running the
container:
+
----
# oc describe pod <pod_name>
----

. Log into the desired node:
+
----
# ssh node.example.com
----

. List the running containers from the default project on the node host and identify the container ID for
the container image registry:
+
----
# podman ps --filter=name=registry_podman-registry.*_default_
----

. List the registry contents using the `oc rsh` command:
+
----
# oc rsh dc/podman-registry find /registry
/registry/podman
/registry/podman/registry
/registry/podman/registry/v2
/registry/podman/registry/v2/blobs <1>
/registry/podman/registry/v2/blobs/sha256
/registry/podman/registry/v2/blobs/sha256/ed
/registry/podman/registry/v2/blobs/sha256/ed/ede17b139a271d6b1331ca3d83c648c24f92cece5f89d95ac6c34ce751111810
/registry/podman/registry/v2/blobs/sha256/ed/ede17b139a271d6b1331ca3d83c648c24f92cece5f89d95ac6c34ce751111810/data <2>
/registry/podman/registry/v2/blobs/sha256/a3
/registry/podman/registry/v2/blobs/sha256/a3/a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4
/registry/podman/registry/v2/blobs/sha256/a3/a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4/data
/registry/podman/registry/v2/blobs/sha256/f7
/registry/podman/registry/v2/blobs/sha256/f7/f72a00a23f01987b42cb26f259582bb33502bdb0fcf5011e03c60577c4284845
/registry/podman/registry/v2/blobs/sha256/f7/f72a00a23f01987b42cb26f259582bb33502bdb0fcf5011e03c60577c4284845/data
/registry/podman/registry/v2/repositories <3>
/registry/podman/registry/v2/repositories/p1
/registry/podman/registry/v2/repositories/p1/pause <4>
/registry/podman/registry/v2/repositories/p1/pause/_manifests
/registry/podman/registry/v2/repositories/p1/pause/_manifests/revisions
/registry/podman/registry/v2/repositories/p1/pause/_manifests/revisions/sha256
/registry/podman/registry/v2/repositories/p1/pause/_manifests/revisions/sha256/e9a2ac6418981897b399d3709f1b4a6d2723cd38a4909215ce2752a5c068b1cf
/registry/podman/registry/v2/repositories/p1/pause/_manifests/revisions/sha256/e9a2ac6418981897b399d3709f1b4a6d2723cd38a4909215ce2752a5c068b1cf/signatures <5>
/registry/podman/registry/v2/repositories/p1/pause/_manifests/revisions/sha256/e9a2ac6418981897b399d3709f1b4a6d2723cd38a4909215ce2752a5c068b1cf/signatures/sha256
/registry/podman/registry/v2/repositories/p1/pause/_manifests/revisions/sha256/e9a2ac6418981897b399d3709f1b4a6d2723cd38a4909215ce2752a5c068b1cf/signatures/sha256/ede17b139a271d6b1331ca3d83c648c24f92cece5f89d95ac6c34ce751111810
/registry/podman/registry/v2/repositories/p1/pause/_manifests/revisions/sha256/e9a2ac6418981897b399d3709f1b4a6d2723cd38a4909215ce2752a5c068b1cf/signatures/sha256/ede17b139a271d6b1331ca3d83c648c24f92cece5f89d95ac6c34ce751111810/link <6>
/registry/podman/registry/v2/repositories/p1/pause/_uploads <7>
/registry/podman/registry/v2/repositories/p1/pause/_layers <8>
/registry/podman/registry/v2/repositories/p1/pause/_layers/sha256
/registry/podman/registry/v2/repositories/p1/pause/_layers/sha256/a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4
/registry/podman/registry/v2/repositories/p1/pause/_layers/sha256/a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4/link <9>
/registry/podman/registry/v2/repositories/p1/pause/_layers/sha256/f72a00a23f01987b42cb26f259582bb33502bdb0fcf5011e03c60577c4284845
/registry/podman/registry/v2/repositories/p1/pause/_layers/sha256/f72a00a23f01987b42cb26f259582bb33502bdb0fcf5011e03c60577c4284845/link
----
<1> This directory stores all layers and signatures as blobs.
<2> This file contains the blob's contents.
<3> This directory stores all the image repositories.
<4> This directory is for a single image repository *p1/pause*.
<5> This directory contains signatures for a particular image manifest revision.
<6> This file contains a reference back to a blob (which contains the signature
data).
<7> This directory contains any layers that are currently being uploaded and
staged for the given repository.
<8> This directory contains links to all the layers this repository references.
<9> This file contains a reference to a specific layer that has been linked into
this repository via an image.
