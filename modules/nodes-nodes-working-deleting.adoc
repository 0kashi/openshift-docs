// Module included in the following assemblies:
//
// * nodes/nodes-nodes-working.adoc

[id='nodes-nodes-working-deleting_{context}']
= Deleting nodes from a cluster

When you delete a node using the CLI, the node object is deleted in Kubernetes,
but the pods that exist on the node are not deleted. Any bare pods not
backed by a replication controller become inaccessible to {product-title}.
Pods backed by replication controllers are rescheduled to other available
nodes. You need to delete local manifest pods.

.Procedure

To delete a node from the {product-title} cluster:

. Mark the node as unschedulable:
+
----
$ oc adm cordon <node>
$ oc adm manage-node <node> --schedulable=false
----
+
For example:
+
----
$ oc adm cordon node1
$ oc adm manage-node node1 --schedulable=false

$ oc get nodes
NAME        STATUS                        ROLES     AGE       VERSION
node1     NotReady,SchedulingDisabled   compute   1d        v1.11.0+d4cacc0
----

. Evacuate pods from the node you are preparing to delete.
+
----
$ oc adm drain <node> [--pod-selector=<pod_selector>]
----

. Delete the node object:
+
----
$ oc delete node <node>
----

. Check that the node has been removed from the node list:
+
----
$ oc get nodes
----
+
Pods should now be only scheduled for the remaining nodes that are in *Ready*
state.
