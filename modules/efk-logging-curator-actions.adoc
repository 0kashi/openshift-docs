// Module included in the following assemblies:
//
// * logging/efk-logging-curator.adoc

[id='efk-logging-curator-actions_{context}']
= Deleting Curator indices

If you have previously used the Curator *action file* to delete Curator indices, you can continue to use that file. However, you should use the {product-title} custom configuration file, *_config.yaml_*, to remove indices, as modifying the *action file* can be destructive to the cluster and can cause removal of required indices/settings from Elasticsearch.  

.Prerequisite

Set cluster logging to the unmanaged state.

.Procedure

To configure Curator to delete indices, edit the Curator *action file*:

[source,yaml]
----
actions.yaml: |
actions:

    action: delete_indices <1>
    description: Delete
    filters:  
    - exclude: false <2>
      kind: regex
      filtertype: pattern
      value: '^project\.myapp\..*$'
    - direction: older
      filtertype: age
      source: name
      timestring: '%Y.%m.%d'
      unit_count: 7
      unit: days
    options:  <4>
      continue_if_exception: false
      timeout_override: '300'
      ignore_empty_list: true
----

<1> Specify `delete_indices` to delete the specified index.
<2> Specify `false` to allow the index to be deleted.
<3> Use the `filers` parameters to specify the index to be deleted. See the link:https://www.elastic.co/guide/en/elasticsearch/client/curator/5.2/filters.html[Elastic Search curator documentation] for information on these parameters. 

