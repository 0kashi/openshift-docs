// Module included in the following assemblies:
//
// * authentication/identity_providers/configuring-htpasswd-identity-provider.adoc

[id='identity-provider-creating-htpasswd-secret-{context}']
= Creating the HTPasswd Secret

To use the HTPasswd identity provider, you must define a secret that 
contains the HTPasswd user file.

.Prerequisites

* Create an HTPasswd file.

.Procedure

. Create a base64 encoding of the HTPasswd users file.
+
[source,bash]
----
$ base64 </path/to/users.htpasswd>
----

. Define a Custom Resource Definition (CRD) secret that contains the 
encoding.
+
[source,yaml]
----
apiVersion: v1
kind: Secret
metadata:
  name: htpass-secret <1>
  namespace: openshift-config
data:
  htpasswd: <base64-encoding> <2>
----
<1> This secret name is passed to providers to identify the encoding.
<2> An existing encoding created during the previous step.

. Apply the CRD to create the secret in {product-title}.
+
[source,bash]
----
$ oc apply -f </path/to/created.CRD>
----
